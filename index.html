<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>offie.</title>
	<link rel="stylesheet" href="css/style.css"  type="text/css">
    <link rel="stylesheet" href="css/light.css"  type="text/css" id="css-theme">
    <link rel="icon" type="image/png" href="media/favicon.ico">
	<script src="js/offie.js"></script>
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB5RcAn-bzJjBFJIwlzNSY0aJfl7mP-2EE&libraries=places&callback=loadMaps" async defer></script>
</head>


<body>

    <div id="column-left" class="column">
        <div id="settingsDiv">
            <form id="settings-form" action="javascript:offie.settings.updateSettings()">
                <label for="darkmode">Dark mode:</label>
                <input type="checkbox" id="darkmode" name="darkmode" value="toggle"><br>

                <label>Units:</label><br>
                <span>Kilometres</span> <input type="radio" id="units-km" name="units" value="kilometres"><br>
                <span>Miles</span> <input type="radio" id="units-mi" name="units" value="miles"><br>

                <label for="language-select">Language</label>
                <select id="language-select">
                    <option value="eng">English</option>
                    <option value="swe">Swedish</option>
                    <option value="nor">Norwegian</option>
                </select>
                <input type="submit" value="Update settings">
            </form>
        </div>
        <div id="titleDiv">offie.</div>


            <div id="searchDiv">
            <form action="javascript:offie.api_wrapper.runSearch()">
                <input name="enterAdr" type="text" id="adrBox" placeholder="Enter an address..."><br>
                <input type="submit" value="Search">
                <button type="button" onclick="offie.utility.geolocate()">Search using your location</button>
            </form>
            </div>
            <div id="sort-container">
                <select id="sort-dropdown" onchange="offie.utility.sortChange(this.value.toLowerCase())">
                    <option value="distance">Distance</option>
                    <option value="rating">Rating</option>
                    <option value="name">Name</option>
                </select>
            </div>

            <div id="results-container">
            </div>
        </div>


    <div id="column-right" class="column">
        <div id="mapDiv"></div>
    </div>



	
	<script>
        let offie = new Offie();
        offie.init();

		function loadMaps() {

            offie.api_wrapper.map = new google.maps.Map(document.getElementById('mapDiv'), {
                center: {lat: 0, lng: 0},
                zoom: 15
            });
            offie.api_wrapper.service = new google.maps.places.PlacesService(offie.api_wrapper.map);
            offie.api_wrapper.geocoder = new google.maps.Geocoder();
		}
	</script>
</body>

</html>